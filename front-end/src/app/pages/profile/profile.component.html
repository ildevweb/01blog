<!-- profile.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Social Media - Profile</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top shadow-sm">
    <div class="container">
      <a class="navbar-brand fw-bold" href="#">SocialMedia</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
          <li class="nav-item"><a class="nav-link" href="home.html">Home</a></li>
          <li class="nav-item"><a class="nav-link active" href="profile.html">Profile</a></li>
          <li class="nav-item"><a class="nav-link" href="saved.html">Saved Posts</a></li>
          <!-- Admin Dashboard link visible only if user is admin -->
          <li class="nav-item d-none" id="admin-link">
            <a class="nav-link" href="admin.html">Admin Dashboard</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Profile Header -->
  <header class="container mb-4 p-0">
    <img src="../../../images/banner.jpg" alt="Banner" class="profile-banner" />
    <div class="d-flex align-items-center px-3">
      <img src="profile_photo_url" alt="Profile Photo" class="profile-photo" />
      <div class="ms-3">
        <h2>username</h2>
        <div class="d-flex gap-3 text-muted">
          <div><strong>followers_count</strong> Followers</div>
          <div><strong>following_count</strong> Following</div>
        </div>
      </div>
      <button
        class="btn btn-outline-primary ms-auto"
        data-bs-toggle="modal"
        data-bs-target="#editProfileModal"
      >
        Edit Profile
      </button>
    </div>
  </header>

  <!-- Create Post Section -->
  <section class="container mb-4">
    <div class="card shadow-sm">
      <div class="card-body">
        <form id="createPostFormProfile">
          <div class="mb-3">
            <textarea
              class="form-control"
              placeholder="What's on your mind, username?"
              rows="3"
              name="postText"
              required
            ></textarea>
          </div>
          <div class="mb-3">
            <input type="file" class="form-control" name="postImage" accept="image/*" />
          </div>
          <button type="submit" class="btn btn-primary">Post</button>
        </form>
      </div>
    </div>
  </section>

  <!-- My Posts Section -->
  <section class="container mb-5">
    <h3>My Posts</h3>
    <div class="row g-3">
      <!-- Repeat user post cards -->
      <div class="col-12 col-md-6 col-lg-4">
        <div class="card shadow-sm">
          <div class="card-header d-flex align-items-center gap-2">
            <img src="profile_photo_url" alt="Avatar" class="avatar-sm" />
            <strong>username</strong>
            <small class="text-muted ms-auto">timestamp</small>
          </div>
          <div class="card-body">
            <p>post_text</p>
            <!-- <img src="{{post_image}}" alt="Post Image" class="post-img rounded" /> -->
          </div>
          <div class="card-footer d-flex justify-content-between">
            <button type="button" class="btn btn-sm btn-outline-primary">Like</button>
            <button type="button" class="btn btn-sm btn-outline-secondary">Comment</button>
            <button type="button" class="btn btn-sm btn-outline-success">Share</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Edit Profile Modal -->
  <div
    class="modal fade"
    id="editProfileModal"
    tabindex="-1"
    aria-labelledby="editProfileModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <form id="editProfileForm">
          <div class="modal-header">
            <h5 class="modal-title" id="editProfileModalLabel">Edit Profile</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <div class="mb-3">
              <label for="usernameInput" class="form-label">Username</label>
              <input
                type="text"
                class="form-control"
                id="usernameInput"
                name="username"
                value="username"
                required
              />
            </div>
            <div class="mb-3">
              <label for="bioInput" class="form-label">Bio</label>
              <textarea
                class="form-control"
                id="bioInput"
                name="bio"
                rows="3"
              >bio</textarea>
            </div>
            <div class="mb-3">
              <label for="profilePicInput" class="form-label">Profile Picture</label>
              <input
                class="form-control"
                type="file"
                id="profilePicInput"
                name="profilePicture"
                accept="image/*"
              />
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Cancel
            </button>
            <button type="submit" class="btn btn-primary">Save Changes</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="bg-light text-center py-3 mt-auto shadow-sm">
    <div class="container">
      <small class="text-muted">&copy; 2024 SocialMedia. All rights reserved.</small>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    const isAdmin = false; // toggle to true to show admin link
    if (isAdmin) document.getElementById('admin-link').classList.remove('d-none');
  </script>
</body>
</html>